var t,e=new Array(128).fill(void 0);e.push(void 0,null,!0,!1);var n=e.length;function addHeapObject(t){n===e.length&&e.push(e.length+1);const r=n;return n=e[r],e[r]=t,r}function getObject(t){return e[t]}function takeObject(t){const r=getObject(t);return function(t){t<132||(e[t]=n,n=t)}(t),r}var r=0,_=null;function getUint8Memory0(){return null!==_&&0!==_.byteLength||(_=new Uint8Array(t.memory.buffer)),_}var i="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},o="function"==typeof i.encodeInto?function(t,e){return i.encodeInto(t,e)}:function(t,e){const n=i.encode(t);return e.set(n),{read:t.length,written:n.length}};function passStringToWasm0(t,e,n){if(void 0===n){const n=i.encode(t),_=e(n.length,1)>>>0;return getUint8Memory0().subarray(_,_+n.length).set(n),r=n.length,_}let _=t.length,a=e(_,1)>>>0;const g=getUint8Memory0();let s=0;for(;s<_;s++){const e=t.charCodeAt(s);if(e>127)break;g[a+s]=e}if(s!==_){0!==s&&(t=t.slice(s)),a=n(a,_,_=s+3*t.length,1)>>>0;const e=getUint8Memory0().subarray(a+s,a+_);s+=o(t,e).written,a=n(a,_,s,1)>>>0}return r=s,a}function isLikeNone(t){return null==t}var a=null;function getInt32Memory0(){return null!==a&&0!==a.byteLength||(a=new Int32Array(t.memory.buffer)),a}var g="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function getStringFromWasm0(t,e){return t>>>=0,g.decode(getUint8Memory0().subarray(t,t+e))}"undefined"!=typeof TextDecoder&&g.decode();var s="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>t.__wbg_bbox_free(e>>>0)),b=class _BBox{static __wrap(t){t>>>=0;const e=Object.create(_BBox.prototype);return e.__wbg_ptr=t,s.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,s.unregister(this),t}free(){const e=this.__destroy_into_raw();t.__wbg_bbox_free(e)}get x(){return t.__wbg_get_bbox_x(this.__wbg_ptr)}set x(e){t.__wbg_set_bbox_x(this.__wbg_ptr,e)}get y(){return t.__wbg_get_bbox_y(this.__wbg_ptr)}set y(e){t.__wbg_set_bbox_y(this.__wbg_ptr,e)}get width(){return t.__wbg_get_bbox_width(this.__wbg_ptr)}set width(e){t.__wbg_set_bbox_width(this.__wbg_ptr,e)}get height(){return t.__wbg_get_bbox_height(this.__wbg_ptr)}set height(e){t.__wbg_set_bbox_height(this.__wbg_ptr,e)}},c="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>t.__wbg_renderedimage_free(e>>>0)),w=class _RenderedImage{static __wrap(t){t>>>=0;const e=Object.create(_RenderedImage.prototype);return e.__wbg_ptr=t,c.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,c.unregister(this),t}free(){const e=this.__destroy_into_raw();t.__wbg_renderedimage_free(e)}get width(){return t.renderedimage_width(this.__wbg_ptr)>>>0}get height(){return t.renderedimage_height(this.__wbg_ptr)>>>0}asPng(){try{const r=t.__wbindgen_add_to_stack_pointer(-16);t.renderedimage_asPng(r,this.__wbg_ptr);var e=getInt32Memory0()[r/4+0],n=getInt32Memory0()[r/4+1];if(getInt32Memory0()[r/4+2])throw takeObject(n);return takeObject(e)}finally{t.__wbindgen_add_to_stack_pointer(16)}}get pixels(){return takeObject(t.renderedimage_pixels(this.__wbg_ptr))}},d="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>t.__wbg_resvg_free(e>>>0)),u=class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,d.unregister(this),t}free(){const e=this.__destroy_into_raw();t.__wbg_resvg_free(e)}constructor(e,n,_){try{const s=t.__wbindgen_add_to_stack_pointer(-16);var i=isLikeNone(n)?0:passStringToWasm0(n,t.__wbindgen_malloc,t.__wbindgen_realloc),o=r;t.resvg_new(s,addHeapObject(e),i,o,isLikeNone(_)?0:addHeapObject(_));var a=getInt32Memory0()[s/4+0],g=getInt32Memory0()[s/4+1];if(getInt32Memory0()[s/4+2])throw takeObject(g);return this.__wbg_ptr=a>>>0,this}finally{t.__wbindgen_add_to_stack_pointer(16)}}get width(){return t.resvg_width(this.__wbg_ptr)}get height(){return t.resvg_height(this.__wbg_ptr)}render(){try{const r=t.__wbindgen_add_to_stack_pointer(-16);t.resvg_render(r,this.__wbg_ptr);var e=getInt32Memory0()[r/4+0],n=getInt32Memory0()[r/4+1];if(getInt32Memory0()[r/4+2])throw takeObject(n);return w.__wrap(e)}finally{t.__wbindgen_add_to_stack_pointer(16)}}toString(){let e,n;try{const i=t.__wbindgen_add_to_stack_pointer(-16);t.resvg_toString(i,this.__wbg_ptr);var r=getInt32Memory0()[i/4+0],_=getInt32Memory0()[i/4+1];return e=r,n=_,getStringFromWasm0(r,_)}finally{t.__wbindgen_add_to_stack_pointer(16),t.__wbindgen_free(e,n,1)}}innerBBox(){const e=t.resvg_innerBBox(this.__wbg_ptr);return 0===e?void 0:b.__wrap(e)}getBBox(){const e=t.resvg_getBBox(this.__wbg_ptr);return 0===e?void 0:b.__wrap(e)}cropByBBox(e){!function(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);t.ptr}(e,b),t.resvg_cropByBBox(this.__wbg_ptr,e.__wbg_ptr)}imagesToResolve(){try{const r=t.__wbindgen_add_to_stack_pointer(-16);t.resvg_imagesToResolve(r,this.__wbg_ptr);var e=getInt32Memory0()[r/4+0],n=getInt32Memory0()[r/4+1];if(getInt32Memory0()[r/4+2])throw takeObject(n);return takeObject(e)}finally{t.__wbindgen_add_to_stack_pointer(16)}}resolveImage(e,n){try{const i=t.__wbindgen_add_to_stack_pointer(-16),o=passStringToWasm0(e,t.__wbindgen_malloc,t.__wbindgen_realloc),a=r;t.resvg_resolveImage(i,this.__wbg_ptr,o,a,addHeapObject(n));var _=getInt32Memory0()[i/4+0];if(getInt32Memory0()[i/4+1])throw takeObject(_)}finally{t.__wbindgen_add_to_stack_pointer(16)}}};function __wbg_get_imports(){const e={wbg:{}};return e.wbg.__wbg_new_28c511d9baebfa89=function(t,e){return addHeapObject(new Error(getStringFromWasm0(t,e)))},e.wbg.__wbindgen_memory=function(){return addHeapObject(t.memory)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(t){return addHeapObject(getObject(t).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(t,e,n){return addHeapObject(new Uint8Array(getObject(t),e>>>0,n>>>0))},e.wbg.__wbindgen_object_drop_ref=function(t){takeObject(t)},e.wbg.__wbg_new_63b92bc8671ed464=function(t){return addHeapObject(new Uint8Array(getObject(t)))},e.wbg.__wbg_values_839f3396d5aac002=function(t){return addHeapObject(getObject(t).values())},e.wbg.__wbg_next_196c84450b364254=function(){return function(e,n){try{return e.apply(this,n)}catch(e){t.__wbindgen_exn_store(addHeapObject(e))}}(function(t){return addHeapObject(getObject(t).next())},arguments)},e.wbg.__wbg_done_298b57d23c0fc80c=function(t){return getObject(t).done},e.wbg.__wbg_value_d93c65011f51a456=function(t){return addHeapObject(getObject(t).value)},e.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(t){let e;try{e=getObject(t)instanceof Uint8Array}catch(t){e=!1}return e},e.wbg.__wbindgen_string_get=function(e,n){const _=getObject(n),i="string"==typeof _?_:void 0;var o=isLikeNone(i)?0:passStringToWasm0(i,t.__wbindgen_malloc,t.__wbindgen_realloc),a=r;getInt32Memory0()[e/4+1]=a,getInt32Memory0()[e/4+0]=o},e.wbg.__wbg_new_16b304a2cfa7ff4a=function(){return addHeapObject(new Array)},e.wbg.__wbindgen_string_new=function(t,e){return addHeapObject(getStringFromWasm0(t,e))},e.wbg.__wbg_push_a5b05aedc7234f9f=function(t,e){return getObject(t).push(getObject(e))},e.wbg.__wbg_length_c20a40f15020d68a=function(t){return getObject(t).length},e.wbg.__wbg_set_a47bac70306a19a7=function(t,e,n){getObject(t).set(getObject(e),n>>>0)},e.wbg.__wbindgen_throw=function(t,e){throw new Error(getStringFromWasm0(t,e))},e}async function __wbg_init(e){if(void 0!==t)return t;void 0===e&&(e=new URL("index_bg.wasm",void 0));const n=__wbg_get_imports();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:i}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await e,n);return function(e,n){return t=e.exports,__wbg_init.__wbindgen_wasm_module=n,a=null,_=null,t}(r,i)}var f=__wbg_init,p=!1;const l={initWasmPromise:(async t=>{if(p)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await f(await t),p=!0})(import("./index_bg.mjs").then(t=>t.default||t)),Resvg:class extends u{constructor(t,e){if(!p)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");const n=e?.font;if(n&&(r=n,Object.prototype.hasOwnProperty.call(r,"fontBuffers"))){const r={...e,font:{...n,fontBuffers:void 0}};super(t,JSON.stringify(r),n.fontBuffers)}else super(t,JSON.stringify(e));var r}}};export{l as default};
//# sourceMappingURL=wasm.mjs.map
