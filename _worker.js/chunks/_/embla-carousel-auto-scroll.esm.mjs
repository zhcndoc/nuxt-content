const t={direction:"forward",speed:2,startDelay:1e3,active:!0,breakpoints:{},playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,rootNode:null};function AutoScroll(o={}){let n,e,r,s,i,l=0,c=!1,u=!1;function startAutoScroll(){if(r)return;if(c)return;e.emit("autoScroll:play");const t=e.internalEngine(),{ownerWindow:o}=t;l=o.setTimeout(()=>{t.scrollBody=function(t){const{location:o,previousLocation:r,offsetLocation:s,target:i,scrollTarget:l,index:c,indexPrevious:u,limit:{reachedMin:a,reachedMax:p,constrain:f},options:{loop:d}}=t,S="forward"===n.direction?-1:1,noop=()=>y;let A=0,g=0,O=o.get(),m=0,w=!1;function seek(){let t=0;r.set(o),A=S*n.speed,O+=A,o.add(A),i.set(o),t=O-m,g=Math.sign(t),m=O;const D=l.byDistance(0,!1).index;c.get()!==D&&(u.set(c.get()),c.set(D),e.emit("select"));const v="forward"===n.direction?a(s.get()):p(s.get());if(!d&&v){w=!0;const t=f(o.get());o.set(t),i.set(o),stopAutoScroll()}return y}const y={direction:()=>g,duration:()=>-1,velocity:()=>A,settled:()=>w,seek:seek,useBaseFriction:noop,useBaseDuration:noop,useFriction:noop,useDuration:noop};return y}(t),t.animation.start()},s),c=!0}function stopAutoScroll(){if(r)return;if(!c)return;e.emit("autoScroll:stop");const t=e.internalEngine(),{ownerWindow:o}=t;t.scrollBody=i,o.clearTimeout(l),l=0,c=!1}function pointerDown(){u||stopAutoScroll()}function pointerUp(){u||startAutoScrollOnSettle()}function mouseEnter(){u=!0,stopAutoScroll()}function mouseLeave(){u=!1,startAutoScroll()}function settle(){e.off("settle",settle),startAutoScroll()}function startAutoScrollOnSettle(){e.on("settle",settle)}return{name:"autoScroll",options:o,init:function(l,c){e=l;const{mergeOptions:u,optionsAtMedia:a}=c,p=u(t,AutoScroll.globalOptions),f=u(p,o);if(n=a(f),e.scrollSnapList().length<=1)return;s=n.startDelay,r=!1,i=e.internalEngine().scrollBody;const{eventStore:d}=e.internalEngine(),S=!!e.internalEngine().options.watchDrag,A=function(t,o){const n=t.rootNode();return o&&o(n)||n}(e,n.rootNode);S&&e.on("pointerDown",pointerDown),S&&!n.stopOnInteraction&&e.on("pointerUp",pointerUp),n.stopOnMouseEnter&&d.add(A,"mouseenter",mouseEnter),n.stopOnMouseEnter&&!n.stopOnInteraction&&d.add(A,"mouseleave",mouseLeave),n.stopOnFocusIn&&e.on("slideFocusStart",stopAutoScroll),n.stopOnFocusIn&&!n.stopOnInteraction&&d.add(e.containerNode(),"focusout",startAutoScroll),n.playOnInit&&startAutoScroll()},destroy:function(){e.off("pointerDown",pointerDown).off("pointerUp",pointerUp).off("slideFocusStart",stopAutoScroll).off("settle",settle),stopAutoScroll(),r=!0,c=!1},play:function(t){void 0!==t&&(s=t),startAutoScroll()},stop:function(){c&&stopAutoScroll()},reset:function(){c&&(stopAutoScroll(),startAutoScrollOnSettle())},isPlaying:function(){return c}}}AutoScroll.globalOptions=void 0;export{AutoScroll as default};
//# sourceMappingURL=embla-carousel-auto-scroll.esm.mjs.map
