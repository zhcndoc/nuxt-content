const t={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function Autoplay(n={}){let o,e,i,a,s=null,p=0,u=!1,l=!1,r=!1,c=!1;function startAutoplay(){i||(documentIsHidden()?r=!0:(u||e.emit("autoplay:play"),function(){const{ownerWindow:t}=e.internalEngine();t.clearTimeout(p),p=t.setTimeout(next,a[e.selectedScrollSnap()]),s=(new Date).getTime(),e.emit("autoplay:timerset")}(),u=!0))}function stopAutoplay(){i||(u&&e.emit("autoplay:stop"),function(){const{ownerWindow:t}=e.internalEngine();t.clearTimeout(p),p=0,s=null,e.emit("autoplay:timerstopped")}(),u=!1)}function visibilityChange(){if(documentIsHidden())return r=u,stopAutoplay();r&&startAutoplay()}function documentIsHidden(){const{ownerDocument:t}=e.internalEngine();return"hidden"===t.visibilityState}function pointerDown(){l||stopAutoplay()}function pointerUp(){l||startAutoplay()}function mouseEnter(){l=!0,stopAutoplay()}function mouseLeave(){l=!1,startAutoplay()}function next(){const{index:t}=e.internalEngine(),n=t.clone().add(1).get(),i=e.scrollSnapList().length-1,a=o.stopOnLastSnap&&n===i;if(e.canScrollNext()?e.scrollNext(c):e.scrollTo(0,c),e.emit("autoplay:select"),a)return stopAutoplay();startAutoplay()}return{name:"autoplay",options:n,init:function(s,p){e=s;const{mergeOptions:u,optionsAtMedia:l}=p,r=u(t,Autoplay.globalOptions),y=u(r,n);if(o=l(y),e.scrollSnapList().length<=1)return;c=o.jump,i=!1,a=function(t,n){const o=t.scrollSnapList();return"number"==typeof n?o.map(()=>n):n(o,t)}(e,o.delay);const{eventStore:d,ownerDocument:f}=e.internalEngine(),m=!!e.internalEngine().options.watchDrag,A=function(t,n){const o=t.rootNode();return n&&n(o)||o}(e,o.rootNode);d.add(f,"visibilitychange",visibilityChange),m&&e.on("pointerDown",pointerDown),m&&!o.stopOnInteraction&&e.on("pointerUp",pointerUp),o.stopOnMouseEnter&&d.add(A,"mouseenter",mouseEnter),o.stopOnMouseEnter&&!o.stopOnInteraction&&d.add(A,"mouseleave",mouseLeave),o.stopOnFocusIn&&e.on("slideFocusStart",stopAutoplay),o.stopOnFocusIn&&!o.stopOnInteraction&&d.add(e.containerNode(),"focusout",startAutoplay),o.playOnInit&&startAutoplay()},destroy:function(){e.off("pointerDown",pointerDown).off("pointerUp",pointerUp).off("slideFocusStart",stopAutoplay),stopAutoplay(),i=!0,u=!1},play:function(t){void 0!==t&&(c=t),startAutoplay()},stop:function(){u&&stopAutoplay()},reset:function(){u&&startAutoplay()},isPlaying:function(){return u},timeUntilNext:function(){return s?a[e.selectedScrollSnap()]-((new Date).getTime()-s):null}}}Autoplay.globalOptions=void 0;export{Autoplay as default};
//# sourceMappingURL=embla-carousel-autoplay.esm.mjs.map
