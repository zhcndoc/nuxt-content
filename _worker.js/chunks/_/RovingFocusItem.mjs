import{ap as e,al as a,aq as t,P as o,ar as s,as as l,at as r}from"../build/server.mjs";import{aQ as i,aS as n,b0 as d,b1 as u,bl as f,bm as c,bn as v,bo as b,aT as p,b5 as m,a$ as y}from"../nitro/nitro.mjs";var h=i({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(i){const h=i,I=e(),K=a(),S=n(()=>h.tabStopId||K),q=n(()=>I.currentTabStopId.value===S.value),{getItems:g,CollectionItem:w}=t();function handleKeydown(e){if("Tab"===e.key&&e.shiftKey)return void I.onItemShiftTab();if(e.target!==e.currentTarget)return;const a=s(e,I.orientation.value,I.dir.value);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||!h.allowShiftKey&&e.shiftKey)return;e.preventDefault();let t=[...g().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)];if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const o=t.indexOf(e.currentTarget);t=I.loop.value?l(t,o+1):t.slice(o+1)}y(()=>r(t))}}return d(()=>{h.focusable&&I.onFocusableItemAdd()}),u(()=>{h.focusable&&I.onFocusableItemRemove()}),(e,a)=>(c(),f(p(w),null,{default:v(()=>[b(p(o),{tabindex:q.value?0:-1,"data-orientation":p(I).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:a[0]||(a[0]=a=>{e.focusable?p(I).onItemFocus(S.value):a.preventDefault()}),onFocus:a[1]||(a[1]=e=>p(I).onItemFocus(S.value)),onKeydown:handleKeydown},{default:v(()=>[m(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});export{h as R};
//# sourceMappingURL=RovingFocusItem.mjs.map
