const t=["p","h1","h2","h3","h4","h5","h6","li"];function isTag(t,n){return t.type===n||("object"==typeof t.type&&t.type.tag===n||t.tag===n)}function isText(t){return isTag(t,"text")||isTag(t,Symbol.for("v-txt"))}function nodeChildren(t){return Array.isArray(t.children)||"string"==typeof t.children?t.children:"function"==typeof t.children?.default?t.children.default():[]}function nodeTextContent(t){if(!t)return"";if(Array.isArray(t))return t.map(nodeTextContent).join("");if(isText(t))return t.value||t.children||"";const n=nodeChildren(t);return Array.isArray(n)?n.map(nodeTextContent).filter(Boolean).join(""):""}function unwrap(n,r=[]){if(Array.isArray(n))return n.flatMap(t=>unwrap(t,r));let e=n;return r.some(t=>"*"===t||isTag(n,t))&&(e=nodeChildren(n)||n,!Array.isArray(e)&&t.some(t=>isTag(n,t))&&(e=[e])),e}function _flatUnwrap(t,n=[]){return t=Array.isArray(t)?t:[t],n.length?t.flatMap(t=>_flatUnwrap(unwrap(t,[n[0]]),n.slice(1))).filter(t=>!(isText(t)&&""===nodeTextContent(t).trim())):t}function flatUnwrap(t,n=[]){return"string"==typeof n&&(n=n.split(/[,\s]/).map(t=>t.trim()).filter(Boolean)),n.length?_flatUnwrap(t,n).reduce((t,n)=>(isText(n)?"string"==typeof t[t.length-1]?t[t.length-1]+=n.children:t.push(n.children):t.push(n),t),[]):t}export{flatUnwrap as f,nodeTextContent as n};
//# sourceMappingURL=node-Ta6SvKQA.mjs.map
