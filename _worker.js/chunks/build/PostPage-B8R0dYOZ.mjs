import{v as e,p as t,u as a,b as o,q as r,r as l,c as n,d as i,k as c,g as s,s as u,e as d}from"./server.mjs";import{_ as p}from"./Page-CGyetz_p.mjs";import{_ as f}from"./PageHeader-Bggj9wKV.mjs";import{_ as m}from"./Breadcrumb-Df2b7IP_.mjs";import{_ as y}from"./User-B4kVDRRS.mjs";import{_ as k}from"./PageBody-I0LkBm7B.mjs";import{_ as x}from"./ContentRenderer-BpGGlh8v.mjs";import{_ as g,a as v,b as h}from"./PageLinks-BxghonTm.mjs";import{f as b}from"./index-0A-otCqO.mjs";import{bO as C,bU as V,cu as N,c5 as B}from"../nitro/nitro.mjs";const w=e.defineComponent({__name:"PostPage",__ssrInlineRender:!0,props:{type:{type:String,required:!0}},async setup(w){let _,$;const L=t(),D=a(),{data:j}=([_,$]=e.withAsyncContext(()=>o(L.path,()=>Promise.all([r("posts").path(L.path).first(),l("posts",L.path,{fields:["title","description"]}).where("path","LIKE",`/${w.type}%`).where("draft","=",0).order("date","DESC")]),{transform:([e,t])=>({page:e,surround:t})})),_=await _,$(),_);if(!j.value||!j.value.page)throw n({statusCode:404,statusMessage:"Page not found",fatal:!0});const T=e.computed(()=>j.value?.page),P=e.computed(()=>j.value?.surround);i({title:T.value?.seo.title,description:T.value?.seo.description,ogTitle:T.value?.seo.title,ogDescription:T.value?.seo.description,ogImage:T.value?.image?`${D.url}/${T.value?.image?.src}`:`${D.url}/social.png`,twitterImage:T.value?.image?`${D.url}/${T.value?.image?.src}`:`${D.url}/social.png`});const S=[{icon:"i-simple-icons-x",label:"Follow on X",to:"https://x.com/nuxtstudio",target:"_blank"},{icon:"i-simple-icons-bluesky",label:"Follow on Bluesky",to:"https://go.nuxt.com/bluesky",target:"_blank"},{icon:"i-simple-icons-discord",label:"Chat on Discord",to:"https://discord.gg/sBXDm6e8SP",target:"_blank"}],R=e.ref(!1);function copyLink(){(void 0).clipboard.writeText(`${D.url}${T.value?.path}`),R.value=!0,setTimeout(()=>{R.value=!1},2e3)}return(t,a,o,r)=>{const l=p,n=f,i=m,_=c,$=y,L=k,D=x,j=s,U=u,I=g,F=v,q=h;a(C(d,r,{default:e.withCtx((a,o,r,c)=>{if(!o)return[e.unref(T)?(e.openBlock(),e.createBlock(l,{key:0},{right:e.withCtx(()=>[e.unref(T).body&&e.unref(T).body.toc?(e.openBlock(),e.createBlock(F,{key:0,links:e.unref(T).body.toc.links},{bottom:e.withCtx(()=>[e.createVNode("div",{class:"hidden md:block"},[e.createVNode(q,{title:"Links",links:S})])]),_:1},8,["links"])):e.createCommentVNode("",!0)]),default:e.withCtx(()=>[e.createVNode(n,{title:e.unref(T).title,description:e.unref(T).description},{headline:e.withCtx(()=>[e.createVNode("div",{class:"flex flex-col gap-6"},[e.createVNode(i,{items:[{label:e.unref(N)(w.type),icon:"i-lucide-newspaper",to:`/${w.type}`},{label:e.unref(T).title}]},null,8,["items"]),e.createVNode("div",{class:"flex items-center gap-3"},[e.unref(T).category?(e.openBlock(),e.createBlock(_,{key:0,label:e.unref(N)(e.unref(T).category),variant:"outline",color:"neutral"},null,8,["label"])):e.createCommentVNode("",!0),e.createVNode("time",{class:"text-(--ui-text)"},e.toDisplayString(("formatDateByLocale"in t?t.formatDateByLocale:e.unref(b))(e.unref(T).date)),1)])])]),default:e.withCtx(()=>[e.createVNode("div",{class:"flex gap-4 mt-6"},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(e.unref(T).authors,t=>(e.openBlock(),e.createBlock($,{key:t.name,name:t.name,description:t.username?`@${t.username}`:"",avatar:t.avatar,to:t.to},null,8,["name","description","avatar","to"]))),128))])]),_:1},8,["title","description"]),e.createVNode(L,null,{default:e.withCtx(()=>[e.unref(T).body?(e.openBlock(),e.createBlock(D,{key:0,value:e.unref(T)},null,8,["value"])):e.createCommentVNode("",!0),e.createVNode("div",{class:"flex items-center justify-between mt-12"},[e.createVNode(j,{to:`/${w.type}`,variant:"link",color:"neutral","aria-label":`Back to ${w.type}`,padded:!1},{default:e.withCtx(()=>[e.createTextVNode(" ← Back to "+e.toDisplayString(w.type),1)]),_:1},8,["to","aria-label"]),e.createVNode("div",{class:"flex justify-end items-center gap-1.5"},[e.createVNode(U,{text:"Copy to clipboard"},{default:e.withCtx(()=>[e.createVNode(j,{color:e.unref(R)?"success":"neutral",variant:"link",icon:e.unref(R)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:copyLink},{default:e.withCtx(()=>[e.createTextVNode(" Copy URL ")]),_:1},8,["color","icon"])]),_:1})])]),e.unref(P)?.length?(e.openBlock(),e.createBlock("hr",{key:1,class:"text-gray-200 dark:text-gray-800"})):e.createCommentVNode("",!0),e.createVNode(I,{surround:e.unref(P),ui:{linkTitle:"text-wrap"}},null,8,["surround"])]),_:1})]),_:1})):e.createCommentVNode("",!0)];e.unref(T)?o(C(l,null,{right:e.withCtx((t,a,o,r)=>{if(!a)return[e.unref(T).body&&e.unref(T).body.toc?(e.openBlock(),e.createBlock(F,{key:0,links:e.unref(T).body.toc.links},{bottom:e.withCtx(()=>[e.createVNode("div",{class:"hidden md:block"},[e.createVNode(q,{title:"Links",links:S})])]),_:1},8,["links"])):e.createCommentVNode("",!0)];e.unref(T).body&&e.unref(T).body.toc?a(C(F,{links:e.unref(T).body.toc.links},{bottom:e.withCtx((t,a,o,r)=>{if(!a)return[e.createVNode("div",{class:"hidden md:block"},[e.createVNode(q,{title:"Links",links:S})])];a(`<div class="hidden md:block"${r}>`),a(C(q,{title:"Links",links:S},null,o,r)),a("</div>")}),_:1},o,r)):a("\x3c!----\x3e")}),default:e.withCtx((a,o,r,l)=>{if(!o)return[e.createVNode(n,{title:e.unref(T).title,description:e.unref(T).description},{headline:e.withCtx(()=>[e.createVNode("div",{class:"flex flex-col gap-6"},[e.createVNode(i,{items:[{label:e.unref(N)(w.type),icon:"i-lucide-newspaper",to:`/${w.type}`},{label:e.unref(T).title}]},null,8,["items"]),e.createVNode("div",{class:"flex items-center gap-3"},[e.unref(T).category?(e.openBlock(),e.createBlock(_,{key:0,label:e.unref(N)(e.unref(T).category),variant:"outline",color:"neutral"},null,8,["label"])):e.createCommentVNode("",!0),e.createVNode("time",{class:"text-(--ui-text)"},e.toDisplayString(("formatDateByLocale"in t?t.formatDateByLocale:e.unref(b))(e.unref(T).date)),1)])])]),default:e.withCtx(()=>[e.createVNode("div",{class:"flex gap-4 mt-6"},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(e.unref(T).authors,t=>(e.openBlock(),e.createBlock($,{key:t.name,name:t.name,description:t.username?`@${t.username}`:"",avatar:t.avatar,to:t.to},null,8,["name","description","avatar","to"]))),128))])]),_:1},8,["title","description"]),e.createVNode(L,null,{default:e.withCtx(()=>[e.unref(T).body?(e.openBlock(),e.createBlock(D,{key:0,value:e.unref(T)},null,8,["value"])):e.createCommentVNode("",!0),e.createVNode("div",{class:"flex items-center justify-between mt-12"},[e.createVNode(j,{to:`/${w.type}`,variant:"link",color:"neutral","aria-label":`Back to ${w.type}`,padded:!1},{default:e.withCtx(()=>[e.createTextVNode(" ← Back to "+e.toDisplayString(w.type),1)]),_:1},8,["to","aria-label"]),e.createVNode("div",{class:"flex justify-end items-center gap-1.5"},[e.createVNode(U,{text:"Copy to clipboard"},{default:e.withCtx(()=>[e.createVNode(j,{color:e.unref(R)?"success":"neutral",variant:"link",icon:e.unref(R)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:copyLink},{default:e.withCtx(()=>[e.createTextVNode(" Copy URL ")]),_:1},8,["color","icon"])]),_:1})])]),e.unref(P)?.length?(e.openBlock(),e.createBlock("hr",{key:1,class:"text-gray-200 dark:text-gray-800"})):e.createCommentVNode("",!0),e.createVNode(I,{surround:e.unref(P),ui:{linkTitle:"text-wrap"}},null,8,["surround"])]),_:1})];o(C(n,{title:e.unref(T).title,description:e.unref(T).description},{headline:e.withCtx((a,o,r,l)=>{if(!o)return[e.createVNode("div",{class:"flex flex-col gap-6"},[e.createVNode(i,{items:[{label:e.unref(N)(w.type),icon:"i-lucide-newspaper",to:`/${w.type}`},{label:e.unref(T).title}]},null,8,["items"]),e.createVNode("div",{class:"flex items-center gap-3"},[e.unref(T).category?(e.openBlock(),e.createBlock(_,{key:0,label:e.unref(N)(e.unref(T).category),variant:"outline",color:"neutral"},null,8,["label"])):e.createCommentVNode("",!0),e.createVNode("time",{class:"text-(--ui-text)"},e.toDisplayString(("formatDateByLocale"in t?t.formatDateByLocale:e.unref(b))(e.unref(T).date)),1)])])];o(`<div class="flex flex-col gap-6"${l}>`),o(C(i,{items:[{label:e.unref(N)(w.type),icon:"i-lucide-newspaper",to:`/${w.type}`},{label:e.unref(T).title}]},null,r,l)),o(`<div class="flex items-center gap-3"${l}>`),e.unref(T).category?o(C(_,{label:e.unref(N)(e.unref(T).category),variant:"outline",color:"neutral"},null,r,l)):o("\x3c!----\x3e"),o(`<time class="text-(--ui-text)"${l}>${B(("formatDateByLocale"in t?t.formatDateByLocale:e.unref(b))(e.unref(T).date))}</time></div></div>`)}),default:e.withCtx((t,a,o,r)=>{if(!a)return[e.createVNode("div",{class:"flex gap-4 mt-6"},[(e.openBlock(!0),e.createBlock(e.Fragment,null,e.renderList(e.unref(T).authors,t=>(e.openBlock(),e.createBlock($,{key:t.name,name:t.name,description:t.username?`@${t.username}`:"",avatar:t.avatar,to:t.to},null,8,["name","description","avatar","to"]))),128))])];a(`<div class="flex gap-4 mt-6"${r}>\x3c!--[--\x3e`),V(e.unref(T).authors,e=>{a(C($,{key:e.name,name:e.name,description:e.username?`@${e.username}`:"",avatar:e.avatar,to:e.to},null,o,r))}),a("\x3c!--]--\x3e</div>")}),_:1},r,l)),o(C(L,null,{default:e.withCtx((t,a,o,r)=>{if(!a)return[e.unref(T).body?(e.openBlock(),e.createBlock(D,{key:0,value:e.unref(T)},null,8,["value"])):e.createCommentVNode("",!0),e.createVNode("div",{class:"flex items-center justify-between mt-12"},[e.createVNode(j,{to:`/${w.type}`,variant:"link",color:"neutral","aria-label":`Back to ${w.type}`,padded:!1},{default:e.withCtx(()=>[e.createTextVNode(" ← Back to "+e.toDisplayString(w.type),1)]),_:1},8,["to","aria-label"]),e.createVNode("div",{class:"flex justify-end items-center gap-1.5"},[e.createVNode(U,{text:"Copy to clipboard"},{default:e.withCtx(()=>[e.createVNode(j,{color:e.unref(R)?"success":"neutral",variant:"link",icon:e.unref(R)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:copyLink},{default:e.withCtx(()=>[e.createTextVNode(" Copy URL ")]),_:1},8,["color","icon"])]),_:1})])]),e.unref(P)?.length?(e.openBlock(),e.createBlock("hr",{key:1,class:"text-gray-200 dark:text-gray-800"})):e.createCommentVNode("",!0),e.createVNode(I,{surround:e.unref(P),ui:{linkTitle:"text-wrap"}},null,8,["surround"])];e.unref(T).body?a(C(D,{value:e.unref(T)},null,o,r)):a("\x3c!----\x3e"),a(`<div class="flex items-center justify-between mt-12"${r}>`),a(C(j,{to:`/${w.type}`,variant:"link",color:"neutral","aria-label":`Back to ${w.type}`,padded:!1},{default:e.withCtx((t,a,o,r)=>{if(!a)return[e.createTextVNode(" ← Back to "+e.toDisplayString(w.type),1)];a(` ← Back to ${B(w.type)}`)}),_:1},o,r)),a(`<div class="flex justify-end items-center gap-1.5"${r}>`),a(C(U,{text:"Copy to clipboard"},{default:e.withCtx((t,a,o,r)=>{if(!a)return[e.createVNode(j,{color:e.unref(R)?"success":"neutral",variant:"link",icon:e.unref(R)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:copyLink},{default:e.withCtx(()=>[e.createTextVNode(" Copy URL ")]),_:1},8,["color","icon"])];a(C(j,{color:e.unref(R)?"success":"neutral",variant:"link",icon:e.unref(R)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:copyLink},{default:e.withCtx((t,a,o,r)=>{if(!a)return[e.createTextVNode(" Copy URL ")];a(" Copy URL ")}),_:1},o,r))}),_:1},o,r)),a("</div></div>"),e.unref(P)?.length?a(`<hr class="text-gray-200 dark:text-gray-800"${r}>`):a("\x3c!----\x3e"),a(C(I,{surround:e.unref(P),ui:{linkTitle:"text-wrap"}},null,o,r))}),_:1},r,l))}),_:1},r,c)):o("\x3c!----\x3e")}),_:1},o))}}}),_=w.setup;w.setup=(t,a)=>{const o=e.useSSRContext();return(o.modules||(o.modules=new Set)).add("components/PostPage.vue"),_?_(t,a):void 0};const $=Object.assign(w,{__name:"PostPage"});export{$ as _};
//# sourceMappingURL=PostPage-B8R0dYOZ.mjs.map
