import{e,r as a,y as t,c as o,z as s,u as r,m as i,q as n,s as c}from"../../../../../nitro/nitro.mjs";import{r as m}from"../../../../../_/auth.mjs";import"node:buffer";import"node:events";import"node:process";import"node:timers";import"node:async_hooks";import"cloudflare:workers";import"node:path";const p=e(async e=>{await m(e),a("cache");const p=t(e,"base")||"";if(/\.[a-z0-9]+$/i.test(p))throw o({statusCode:400,message:"Invalid base"});const d=s(`cache:${p}`),h=await d.getKeys(),u=r(e).hub;return await $fetch(`/api/projects/${i.env.NUXT_HUB_PROJECT_KEY||u.projectKey}/cache/${i.env.NUXT_HUB_ENV||u.env}/batch-delete`,{baseURL:i.env.NUXT_HUB_URL||u.url,method:"POST",body:{keys:h.map(e=>`${p}:${e}`)},headers:new Headers({authorization:n(e,"authorization")||""})}),c(e)});export{p as default};
//# sourceMappingURL=_...base_.delete.mjs.map
