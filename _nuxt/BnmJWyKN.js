import{bT as Y,n as T,B as C,bG as $,bU as Q,C as b,bV as U,bW as H,bX as tt,bY as Z,bZ as et,G as ot,b_ as nt,a0 as lt,a8 as st,bC as rt,b$ as at,c0 as ut,bF as it,c1 as ct,c2 as dt}from"./BaQj2OHo.js";const I=U?window:void 0,J=U?window.navigator:void 0;function P(t){var l;const i=b(t);return(l=i?.$el)!=null?l:i}function F(...t){const l=[],i=()=>{l.forEach(o=>o()),l.length=0},h=(o,r,u,n)=>(o.addEventListener(r,u,n),()=>o.removeEventListener(r,u,n)),f=C(()=>{const o=H(b(t[0])).filter(r=>r!=null);return o.every(r=>typeof r!="string")?o:void 0}),c=tt(()=>{var o,r;return[(r=(o=f.value)==null?void 0:o.map(u=>P(u)))!=null?r:[I].filter(u=>u!=null),H(b(f.value?t[1]:t[0])),H(lt(f.value?t[2]:t[1])),b(f.value?t[3]:t[2])]},([o,r,u,n])=>{if(i(),!o?.length||!r?.length||!u?.length)return;const v=nt(n)?{...n}:n;l.push(...o.flatMap(g=>r.flatMap(p=>u.map(w=>h(g,p,w,v)))))},{flush:"post"}),d=()=>{c(),i()};return Z(i),d}function ft(){const t=T(!1),l=rt();return l&&st(()=>{t.value=!0},l),t}function V(t){const l=ft();return C(()=>(l.value,!!t()))}function vt(t,l,i={}){const{window:h=I,...f}=i;let c;const d=V(()=>h&&"MutationObserver"in h),o=()=>{c&&(c.disconnect(),c=void 0)},r=C(()=>{const g=b(t),p=H(g).map(P).filter(et);return new Set(p)}),u=ot(r,g=>{o(),d.value&&g.size&&(c=new MutationObserver(l),g.forEach(p=>c.observe(p,f)))},{immediate:!0,flush:"post"}),n=()=>c?.takeRecords(),v=()=>{u(),o()};return Z(v),{isSupported:d,stop:v,takeRecords:n}}function j(t,l={}){const{controls:i=!1,navigator:h=J}=l,f=V(()=>h&&"permissions"in h),c=T(),d=typeof t=="string"?{name:t}:t,o=T(),r=()=>{var n,v;o.value=(v=(n=c.value)==null?void 0:n.state)!=null?v:"prompt"};F(c,"change",r,{passive:!0});const u=ut(async()=>{if(f.value){if(!c.value)try{c.value=await h.permissions.query(d)}catch{c.value=void 0}finally{r()}if(i)return it(c.value)}});return u(),i?{state:o,isSupported:f,query:u}:o}function bt(t={}){const{navigator:l=J,read:i=!1,source:h,copiedDuring:f=1500,legacy:c=!1}=t,d=V(()=>l&&"clipboard"in l),o=j("clipboard-read"),r=j("clipboard-write"),u=C(()=>d.value||c),n=T(""),v=T(!1),g=at(()=>v.value=!1,f,{immediate:!1});async function p(){let a=!(d.value&&O(o.value));if(!a)try{n.value=await l.clipboard.readText()}catch{a=!0}a&&(n.value=x())}u.value&&i&&F(["copy","cut"],p,{passive:!0});async function w(a=b(h)){if(u.value&&a!=null){let s=!(d.value&&O(r.value));if(!s)try{await l.clipboard.writeText(a)}catch{s=!0}s&&L(a),n.value=a,v.value=!0,g.start()}}function L(a){const s=document.createElement("textarea");s.value=a??"",s.style.position="absolute",s.style.opacity="0",document.body.appendChild(s),s.select(),document.execCommand("copy"),s.remove()}function x(){var a,s,m;return(m=(s=(a=document?.getSelection)==null?void 0:a.call(document))==null?void 0:s.toString())!=null?m:""}function O(a){return a==="granted"||a==="prompt"}return{isSupported:u,text:n,copied:v,copy:w}}const z=1;function pt(t,l={}){const{throttle:i=0,idle:h=200,onStop:f=Y,onScroll:c=Y,offset:d={left:0,right:0,top:0,bottom:0},observe:o={mutation:!1},eventListenerOptions:r={capture:!1,passive:!0},behavior:u="auto",window:n=I,onError:v=e=>{console.error(e)}}=l,g=typeof o=="boolean"?{mutation:o}:o,p=T(0),w=T(0),L=C({get(){return p.value},set(e){O(e,void 0)}}),x=C({get(){return w.value},set(e){O(void 0,e)}});function O(e,M){var y,R,W,D;if(!n)return;const S=b(t);if(!S)return;(W=S instanceof Document?n.document.body:S)==null||W.scrollTo({top:(y=b(M))!=null?y:x.value,left:(R=b(e))!=null?R:L.value,behavior:b(u)});const E=((D=S?.document)==null?void 0:D.documentElement)||S?.documentElement||S;L!=null&&(p.value=E.scrollLeft),x!=null&&(w.value=E.scrollTop)}const a=T(!1),s=$({left:!0,right:!1,top:!0,bottom:!1}),m=$({left:!1,right:!1,top:!1,bottom:!1}),X=e=>{a.value&&(a.value=!1,m.left=!1,m.right=!1,m.top=!1,m.bottom=!1,f(e))},K=dt(X,i+h),A=e=>{var M;if(!n)return;const y=((M=e?.document)==null?void 0:M.documentElement)||e?.documentElement||P(e),{display:R,flexDirection:W,direction:D}=getComputedStyle(y),S=D==="rtl"?-1:1,E=y.scrollLeft;m.left=E<p.value,m.right=E>p.value;const q=Math.abs(E*S)<=(d.left||0),B=Math.abs(E*S)+y.clientWidth>=y.scrollWidth-(d.right||0)-z;R==="flex"&&W==="row-reverse"?(s.left=B,s.right=q):(s.left=q,s.right=B),p.value=E;let _=y.scrollTop;e===n.document&&!_&&(_=n.document.body.scrollTop),m.top=_<w.value,m.bottom=_>w.value;const G=Math.abs(_)<=(d.top||0),N=Math.abs(_)+y.clientHeight>=y.scrollHeight-(d.bottom||0)-z;R==="flex"&&W==="column-reverse"?(s.top=N,s.bottom=G):(s.top=G,s.bottom=N),w.value=_},k=e=>{var M;if(!n)return;const y=(M=e.target.documentElement)!=null?M:e.target;A(y),a.value=!0,K(e),c(e)};return F(t,"scroll",i?ct(k,i,!0,!1):k,r),Q(()=>{try{const e=b(t);if(!e)return;A(e)}catch(e){v(e)}}),g?.mutation&&t!=null&&t!==n&&t!==document&&vt(t,()=>{const e=b(t);e&&A(e)},{attributes:!0,childList:!0,subtree:!0}),F(t,"scrollend",X,r),{x:L,y:x,isScrolling:a,arrivedState:s,directions:m,measure(){const e=b(t);n&&e&&A(e)}}}function ht(t={}){const{window:l=I,...i}=t;return pt(l,i)}export{pt as a,bt as b,ht as u};
