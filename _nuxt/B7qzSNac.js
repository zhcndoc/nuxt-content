import{_ as K}from"./DsjzpyYI.js";import{ae as X,aq as O,B,aw as P,H as m,I as l,Y as i,K as k,L as d,aD as p,aF as _,Z as b,aJ as $,aI as h,M as S,N as D,a4 as u,aA as Y,J as U,a0 as t,aB as Z,aC as G,aE as w,a1 as Q,E as W,b5 as ee,a_ as te,a$ as ae,b0 as se,A as le,z as oe,b1 as ne,b2 as ie,r as re,b4 as E,b6 as ce,aM as ue,b7 as me,b3 as de}from"./BaQj2OHo.js";import{_ as pe}from"./BTnyqmF3.js";import{_ as _e}from"./CenO--8g.js";import{_ as fe}from"./C7h-hgG2.js";import{_ as ge,a as ke}from"./TpZIsJqt.js";import{_ as ye}from"./9LppsR6N.js";import{_ as be}from"./CmpiFInF.js";import{f as ve}from"./Dw3J1SzH.js";const xe={slots:{root:"flex flex-col gap-3",title:"text-sm font-semibold flex items-center gap-1.5",list:"flex flex-col gap-2",item:"relative",link:"group text-sm flex items-center gap-1.5 focus-visible:outline-primary",linkLeadingIcon:"size-5 shrink-0",linkLabel:"truncate",linkLabelExternalIcon:"size-3 absolute top-0 text-dimmed"},variants:{active:{true:{link:"text-primary font-medium"},false:{link:["text-muted hover:text-default","transition-colors"]}}}},$e={__name:"UPageLinks",props:{as:{type:null,required:!1,default:"nav"},title:{type:String,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(r){const o=r,y=X(),f=O(),s=B(()=>P({extend:P(xe),...f.ui?.pageLinks||{}})());return(c,e)=>(l(),m(t(Q),{as:r.as,"data-slot":"root",class:_(s.value.root({class:[o.ui?.root,o.class]}))},{default:i(()=>[r.title||y.title?(l(),k("p",{key:0,"data-slot":"title",class:_(s.value.title({class:o.ui?.title}))},[b(c.$slots,"title",{},()=>[$(h(r.title),1)])],2)):d("",!0),p("ul",{"data-slot":"list",class:_(s.value.list({class:o.ui?.list}))},[(l(!0),k(S,null,D(r.links,(a,L)=>(l(),k("li",{key:L,"data-slot":"item",class:_(s.value.item({class:[o.ui?.item,a.ui?.item]}))},[u(Y,U({ref_for:!0},t(Z)(a),{custom:""}),{default:i(({active:n,...C})=>[u(G,U({ref_for:!0},C,{"data-slot":"link",class:s.value.link({class:[o.ui?.link,a.ui?.link,a.class],active:n})}),{default:i(()=>[b(c.$slots,"link",{link:a,active:n,ui:s.value},()=>[b(c.$slots,"link-leading",{link:a,active:n,ui:s.value},()=>[a.icon?(l(),m(w,{key:0,name:a.icon,"data-slot":"linkLeadingIcon",class:_(s.value.linkLeadingIcon({class:[o.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],active:n}))},null,8,["name","class"])):d("",!0)]),a.label||y["link-label"]?(l(),k("span",{key:0,"data-slot":"linkLabel",class:_(s.value.linkLabel({class:[o.ui?.linkLabel,a.ui?.linkLabel],active:n}))},[b(c.$slots,"link-label",{link:a,active:n},()=>[$(h(a.label),1)]),a.target==="_blank"?(l(),m(w,{key:0,name:t(f).ui.icons.external,"data-slot":"linkLabelExternalIcon",class:_(s.value.linkLabelExternalIcon({class:[o.ui?.linkLabelExternalIcon,a.ui?.linkLabelExternalIcon],active:n}))},null,8,["name","class"])):d("",!0)],2)):d("",!0),b(c.$slots,"link-trailing",{link:a,active:n})])]),_:2},1040,["class"])]),_:2},1040)],2))),128))],2)]),_:3},8,["as","class"]))}},he={class:"flex flex-col gap-6"},Le={class:"flex items-center gap-3"},Ce={class:"text-(--ui-text)"},Be={class:"flex gap-4 mt-6"},Ie={class:"flex items-center justify-between mt-12"},Pe={class:"flex justify-end items-center gap-1.5"},Ue={key:1,class:"text-gray-200 dark:text-gray-800"},we={class:"hidden md:block"},Ee=W({__name:"PostPage",props:{type:{type:String,required:!0}},async setup(r){let o,y;const f=ee(),s=te(),{data:c}=([o,y]=ae(()=>se(f.path,()=>Promise.all([le("posts").path(f.path).first(),oe("posts",f.path,{fields:["title","description"]}).where("path","LIKE",`/${r.type}%`).where("draft","=",0).order("date","DESC")]),{transform:([v,x])=>({page:v,surround:x})})),o=await o,y(),o);if(!c.value||!c.value.page)throw ne({statusCode:404,statusMessage:"Page not found",fatal:!0});const e=B(()=>c.value?.page),a=B(()=>c.value?.surround);ie({title:e.value?.seo.title,description:e.value?.seo.description,ogTitle:e.value?.seo.title,ogDescription:e.value?.seo.description,ogImage:e.value?.image?`${s.url}/${e.value?.image?.src}`:`${s.url}/social.png`,twitterImage:e.value?.image?`${s.url}/${e.value?.image?.src}`:`${s.url}/social.png`});const L=[{icon:"i-simple-icons-x",label:"Follow on X",to:"https://x.com/nuxtstudio",target:"_blank"},{icon:"i-simple-icons-bluesky",label:"Follow on Bluesky",to:"https://go.nuxt.com/bluesky",target:"_blank"},{icon:"i-simple-icons-discord",label:"Chat on Discord",to:"https://discord.gg/sBXDm6e8SP",target:"_blank"}],n=re(!1);function C(){navigator.clipboard.writeText(`${s.url}${e.value?.path}`),n.value=!0,setTimeout(()=>{n.value=!1},2e3)}return(v,x)=>{const q=K,T=ce,A=pe,N=_e,z=fe,I=ue,F=me,M=ge,V=ye,j=$e,R=ke,H=be,J=de;return l(),m(J,null,{default:i(()=>[t(e)?(l(),m(H,{key:0},{right:i(()=>[t(e).body&&t(e).body.toc?(l(),m(R,{key:0,links:t(e).body.toc.links},{bottom:i(()=>[p("div",we,[u(j,{title:"Links",links:L})])]),_:1},8,["links"])):d("",!0)]),default:i(()=>[u(N,{title:t(e).title,description:t(e).description},{headline:i(()=>[p("div",he,[u(q,{items:[{label:t(E)(r.type),icon:"i-lucide-newspaper",to:`/${r.type}`},{label:t(e).title}]},null,8,["items"]),p("div",Le,[t(e).category?(l(),m(T,{key:0,label:t(E)(t(e).category),variant:"outline",color:"neutral"},null,8,["label"])):d("",!0),p("time",Ce,h(("formatDateByLocale"in v?v.formatDateByLocale:t(ve))(t(e).date)),1)])])]),default:i(()=>[p("div",Be,[(l(!0),k(S,null,D(t(e).authors,g=>(l(),m(A,{key:g.name,name:g.name,description:g.username?`@${g.username}`:"",avatar:g.avatar,to:g.to},null,8,["name","description","avatar","to"]))),128))])]),_:1},8,["title","description"]),u(V,null,{default:i(()=>[t(e).body?(l(),m(z,{key:0,value:t(e)},null,8,["value"])):d("",!0),p("div",Ie,[u(I,{to:`/${r.type}`,variant:"link",color:"neutral","aria-label":`Back to ${r.type}`,padded:!1},{default:i(()=>[$(" â† Back to "+h(r.type),1)]),_:1},8,["to","aria-label"]),p("div",Pe,[u(F,{text:"Copy to clipboard"},{default:i(()=>[u(I,{color:t(n)?"success":"neutral",variant:"link",icon:t(n)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:C},{default:i(()=>[...x[0]||(x[0]=[$(" Copy URL ",-1)])]),_:1},8,["color","icon"])]),_:1})])]),t(a)?.length?(l(),k("hr",Ue)):d("",!0),u(M,{surround:t(a),ui:{linkTitle:"text-wrap"}},null,8,["surround"])]),_:1})]),_:1})):d("",!0)]),_:1})}}}),Ve=Object.assign(Ee,{__name:"PostPage"});export{Ve as _};
