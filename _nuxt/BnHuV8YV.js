import z from"./B6nubDDw.js";import{_ as F}from"./BKrFXHgW.js";import{E as K,ay as h,r as S,a_ as R,a$ as $,b1 as V,b2 as Y,B as P,G as D,H as L,Y as v,b0 as E,A as I,I as m,a4 as x,a0 as l,b3 as q,aD as e,al as W,K as A,M as Z,N as j,aI as J,aF as O,aY as Q}from"./BaQj2OHo.js";import{_ as X}from"./9LppsR6N.js";import{_ as ee}from"./CmpiFInF.js";import{f as te}from"./Dw3J1SzH.js";import{u as ae,a as oe}from"./BnmJWyKN.js";import"./BTnyqmF3.js";const se={class:"relative"},le={class:"flex flex-col"},ne={class:"flex flex-col lg:flex-row"},ie={class:"flex w-full pb-4 lg:max-w-[150px] lg:pb-0 -mt-2"},re={class:"text-sm text-gray-600 dark:text-gray-300"},ce={class:"relative hidden lg:flex lg:min-w-[150px]"},de={class:"pb-32"},M=5,ue=K({__name:"index",async setup(fe){let a,r;const y=h("containers"),U=h("marker"),c=h("dots"),d=S(0),p=S(1),{y:b}=ae(),{isScrolling:G,arrivedState:k}=oe(document),w=R(),{data:o}=([a,r]=$(()=>E("changelog-landing",()=>I("landing").path("/changelog").first())),a=await a,r(),a);if(!o.value)throw V({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:_}=([a,r]=$(()=>E("changelog-posts",()=>I("posts").where("path","LIKE","/changelog%").where("draft","=",0).order("date","DESC").all())),a=await a,r(),a);Y({title:o.value.seo?.title,description:o.value.seo?.description,ogTitle:o.value.seo?.title,ogDescription:o.value.seo?.description,ogImage:`${w.url}/social.png`,twitterImage:`${w.url}/social.png`});const H=P(()=>B.value?_.value?.slice(0,p.value*M)||[]:_.value||[]),B=P(()=>(_.value?.length||0)/M>p.value);function N(){p.value++}return D(()=>b.value,()=>{d.value=b.value;for(let t=0;t<c.value.length;t++){const n=y.value.map(i=>i.getBoundingClientRect().height),u=n.slice(0,t).reduce((i,g)=>i+g,0),f=150;d.value>=u-f&&d.value<=u+n[t]-f?c.value[t].classList.add("neon"):c.value[t].classList.remove("neon")}}),D(()=>k.bottom,()=>{k.bottom&&B.value&&N()}),(t,n)=>{const u=z,f=F,i=q,g=X,T=ee;return m(),L(T,null,{default:v(()=>[x(u,{title:l(o)?.title,description:l(o)?.description},null,8,["title","description"]),x(g,null,{default:v(()=>[x(i,null,{default:v(()=>[e("div",se,[e("div",{ref_key:"marker",ref:U,class:"hidden lg:block absolute rounded-full bg-gray-500 dark:bg-gray-400 neon marker",style:W({left:"153px",top:`${l(d)}px`,height:`${l(G)?40:0}px`,width:"2px"})},null,4),e("ul",le,[(m(!0),A(Z,null,j(l(H),(s,C)=>(m(),A("li",{key:s.id,ref_for:!0,ref_key:"containers",ref:y,class:"flex flex-col"},[e("div",ne,[e("div",ie,[e("p",re,[e("time",null,J(("formatDateByLocale"in t?t.formatDateByLocale:l(te))(s.date)),1)])]),e("div",ce,[e("div",{ref_for:!0,ref_key:"dots",ref:c,class:O(["hidden w-2 h-2 rounded-full lg:block bg-(--ui-primary)",{neon:C===0}])},null,2),n[0]||(n[0]=e("div",{class:"absolute left-[3.5px] top-0.5 h-full w-[1px] bg-(--ui-primary)"},null,-1))]),e("div",de,[(m(),L(f,{key:C,title:s.title,description:s.description,image:{...s.image,height:915},to:s.path,authors:s.authors,variant:"naked",ui:{body:"!px-0",header:"aspect-auto"}},null,8,["title","description","image","to","authors"]))])])]))),128))])])]),_:1})]),_:1})]),_:1})}}}),be=Q(ue,[["__scopeId","data-v-9bc8cbc1"]]);export{be as default};
