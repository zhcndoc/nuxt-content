import T from"./BAwFLvWT.js";import{_ as z}from"./CvhlXkZW.js";import{D as F,ag as h,r as P,aP as J,aQ as K,aH as V,aI as S,aL as W,aM as q,A as L,G as $,H as D,w as v,aJ as E,aK as I,e as g,g as x,W as l,aN as Q,h as e,aR as Z,d as A,F as j,J as O,t as X,n as Y,_ as ee}from"#entry";import{_ as te}from"./B64v4Ggb.js";import{_ as ae}from"./CtTZd-B_.js";import{f as oe}from"./CRnGsGYf.js";import"./CCelpVQM.js";const se={class:"relative"},le={class:"flex flex-col"},ne={class:"flex flex-col lg:flex-row"},ie={class:"flex w-full pb-4 lg:max-w-[150px] lg:pb-0 -mt-2"},re={class:"text-sm text-gray-600 dark:text-gray-300"},ce={class:"relative hidden lg:flex lg:min-w-[150px]"},de={class:"pb-32"},M=5,ue=F({__name:"index",async setup(fe){let a,r;const y=h("containers"),U=h("marker"),c=h("dots"),d=P(0),_=P(1),{y:k}=J(),{isScrolling:H,arrivedState:w}=K(document),b=V(),{data:o}=([a,r]=S(()=>E("changelog-landing",()=>I("landing").path("/changelog").first())),a=await a,r(),a);if(!o.value)throw W({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:m}=([a,r]=S(()=>E("changelog-posts",()=>I("posts").where("path","LIKE","/changelog%").where("draft","=",0).order("date","DESC").all())),a=await a,r(),a);q({title:o.value.seo?.title,description:o.value.seo?.description,ogTitle:o.value.seo?.title,ogDescription:o.value.seo?.description,ogImage:`${b.url}/social.png`,twitterImage:`${b.url}/social.png`});const G=L(()=>C.value?m.value?.slice(0,_.value*M)||[]:m.value||[]),C=L(()=>(m.value?.length||0)/M>_.value);function N(){_.value++}return $(()=>k.value,()=>{d.value=k.value;for(let t=0;t<c.value.length;t++){const n=y.value.map(i=>i.getBoundingClientRect().height),u=n.slice(0,t).reduce((i,p)=>i+p,0),f=150;d.value>=u-f&&d.value<=u+n[t]-f?c.value[t].classList.add("neon"):c.value[t].classList.remove("neon")}}),$(()=>w.bottom,()=>{w.bottom&&C.value&&N()}),(t,n)=>{const u=T,f=z,i=Q,p=te,R=ae;return g(),D(R,null,{default:v(()=>[x(u,{title:l(o)?.title,description:l(o)?.description},null,8,["title","description"]),x(p,null,{default:v(()=>[x(i,null,{default:v(()=>[e("div",se,[e("div",{ref_key:"marker",ref:U,class:"hidden lg:block absolute rounded-full bg-gray-500 dark:bg-gray-400 neon marker",style:Z({left:"153px",top:`${l(d)}px`,height:`${l(H)?40:0}px`,width:"2px"})},null,4),e("ul",le,[(g(!0),A(j,null,O(l(G),(s,B)=>(g(),A("li",{key:s.id,ref_for:!0,ref_key:"containers",ref:y,class:"flex flex-col"},[e("div",ne,[e("div",ie,[e("p",re,[e("time",null,X(("formatDateByLocale"in t?t.formatDateByLocale:l(oe))(s.date)),1)])]),e("div",ce,[e("div",{ref_for:!0,ref_key:"dots",ref:c,class:Y(["hidden w-2 h-2 rounded-full lg:block bg-(--ui-primary)",{neon:B===0}])},null,2),n[0]||(n[0]=e("div",{class:"absolute left-[3.5px] top-0.5 h-full w-[1px] bg-(--ui-primary)"},null,-1))]),e("div",de,[(g(),D(f,{key:B,title:s.title,description:s.description,image:{...s.image,height:915},to:s.path,authors:s.authors,variant:"naked",ui:{body:"!px-0",header:"aspect-auto"}},null,8,["title","description","image","to","authors"]))])])]))),128))])])]),_:1})]),_:1})]),_:1})}}}),ye=ee(ue,[["__scopeId","data-v-9bc8cbc1"]]);export{ye as default};
