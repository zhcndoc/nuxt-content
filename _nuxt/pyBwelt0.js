import{_ as q}from"./DjT9zLdz.js";import{D as A,v as H,aH as M,aI as R,aJ as J,aK as K,aS as O,aL as X,A as b,aM as W,r as z,H as c,e as o,w as a,f as u,W as t,g as s,h as n,d as $,F as G,J as Q,aO as h,aT as Y,t as x,ai as Z,ak as C,aU as ee,aN as te}from"#entry";import{_ as ae}from"./CCelpVQM.js";import{_ as oe}from"./MJwHGEp_.js";import{_ as se}from"./DBlNQ8rm.js";import{_ as ne,a as ie,b as le}from"./so7gn_U3.js";import{_ as ce}from"./B64v4Ggb.js";import{_ as re}from"./CtTZd-B_.js";import{f as ue}from"./CRnGsGYf.js";const me={class:"flex flex-col gap-6"},_e={class:"flex items-center gap-3"},de={class:"text-(--ui-text)"},pe={class:"flex gap-4 mt-6"},fe={class:"flex items-center justify-between mt-12"},ge={class:"flex justify-end items-center gap-1.5"},ye={key:1,class:"text-gray-200 dark:text-gray-800"},ke={class:"hidden md:block"},ve=A({__name:"PostPage",props:{type:{type:String,required:!0}},async setup(i){let m,y;const g=H(),r=M(),{data:_}=([m,y]=R(()=>J(g.path,()=>Promise.all([K("posts").path(g.path).first(),O("posts",g.path,{fields:["title","description"]}).where("path","LIKE",`/${i.type}%`).where("draft","=",0).order("date","DESC")]),{transform:([p,f])=>({page:p,surround:f})})),m=await m,y(),m);if(!_.value||!_.value.page)throw X({statusCode:404,statusMessage:"Page not found",fatal:!0});const e=b(()=>_.value?.page),k=b(()=>_.value?.surround);W({title:e.value?.seo.title,description:e.value?.seo.description,ogTitle:e.value?.seo.title,ogDescription:e.value?.seo.description,ogImage:e.value?.image?`${r.url}/${e.value?.image?.src}`:`${r.url}/social.png`,twitterImage:e.value?.image?`${r.url}/${e.value?.image?.src}`:`${r.url}/social.png`});const B=[{icon:"i-simple-icons-x",label:"Follow on X",to:"https://x.com/nuxtstudio",target:"_blank"},{icon:"i-simple-icons-bluesky",label:"Follow on Bluesky",to:"https://go.nuxt.com/bluesky",target:"_blank"},{icon:"i-simple-icons-discord",label:"Chat on Discord",to:"https://discord.gg/sBXDm6e8SP",target:"_blank"}],d=z(!1);function U(){navigator.clipboard.writeText(`${r.url}${e.value?.path}`),d.value=!0,setTimeout(()=>{d.value=!1},2e3)}return(p,f)=>{const w=q,P=Y,D=ae,L=oe,S=se,v=Z,T=ee,I=ne,N=ce,E=le,F=ie,V=re,j=te;return o(),c(j,null,{default:a(()=>[t(e)?(o(),c(V,{key:0},{right:a(()=>[t(e).body&&t(e).body.toc?(o(),c(F,{key:0,links:t(e).body.toc.links},{bottom:a(()=>[n("div",ke,[s(E,{title:"Links",links:B})])]),_:1},8,["links"])):u("",!0)]),default:a(()=>[s(L,{title:t(e).title,description:t(e).description},{headline:a(()=>[n("div",me,[s(w,{items:[{label:t(h)(i.type),icon:"i-lucide-newspaper",to:`/${i.type}`},{label:t(e).title}]},null,8,["items"]),n("div",_e,[t(e).category?(o(),c(P,{key:0,label:t(h)(t(e).category),variant:"outline",color:"neutral"},null,8,["label"])):u("",!0),n("time",de,x(("formatDateByLocale"in p?p.formatDateByLocale:t(ue))(t(e).date)),1)])])]),default:a(()=>[n("div",pe,[(o(!0),$(G,null,Q(t(e).authors,l=>(o(),c(D,{key:l.name,name:l.name,description:l.username?`@${l.username}`:"",avatar:l.avatar,to:l.to},null,8,["name","description","avatar","to"]))),128))])]),_:1},8,["title","description"]),s(N,null,{default:a(()=>[t(e).body?(o(),c(S,{key:0,value:t(e)},null,8,["value"])):u("",!0),n("div",fe,[s(v,{to:`/${i.type}`,variant:"link",color:"neutral","aria-label":`Back to ${i.type}`,padded:!1},{default:a(()=>[C(" ← Back to "+x(i.type),1)]),_:1},8,["to","aria-label"]),n("div",ge,[s(T,{text:"Copy to clipboard"},{default:a(()=>[s(v,{color:t(d)?"success":"neutral",variant:"link",icon:t(d)?"i-lucide-copy-check":"i-lucide-copy","aria-label":"Copy link",onClick:U},{default:a(()=>[...f[0]||(f[0]=[C(" Copy URL ",-1)])]),_:1},8,["color","icon"])]),_:1})])]),t(k)?.length?(o(),$("hr",ye)):u("",!0),s(I,{surround:t(k),ui:{linkTitle:"text-wrap"}},null,8,["surround"])]),_:1})]),_:1})):u("",!0)]),_:1})}}}),De=Object.assign(ve,{__name:"PostPage"});export{De as _};
